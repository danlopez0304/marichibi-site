/* Base layout */
html, body {
  height: 100%;
  margin: 0;
  background: #fff8f0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  overscroll-behavior: none; /* prevent rubber-band during play */
}

#game-root { width: 100%; height: 100%; }

/* HUD & controls */
.hud {
  position: fixed;
  left: 10px;
  top: 10px;
  background: rgba(255,255,255,.8);
  padding: 6px 10px;
  border-radius: 10px;
  color: #4b2e83;
  font-weight: 700;
}

.btnbar {
  position: fixed;
  right: 10px;
  top: 10px;
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.btn {
  cursor: pointer;
  border: 0;
  padding: 8px 12px;
  border-radius: 10px;
  background: #ab3cfc;
  color: #fff;
  font-weight: 700;
}

.btn.alt { background: #f29f05; }

.tests {
  position: fixed;
  right: 10px;
  top: 54px;
  background: rgba(255,255,255,.9);
  padding: 6px 10px;
  border-radius: 10px;
  color: #4b2e83;
}

.hint {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 10px;
  background: rgba(255,255,255,.85);
  padding: 6px 12px;
  border-radius: 999px;
  color: #7a5ab5;
  font-size: 14px;
}

#vol { width: 140px; accent-color: #ab3cfc; }
.label { font-size: 14px; color: #4b2e83; font-weight: 700; }

/* Mobile touch controls */
.mobile-ctrls {
  position: fixed;
  left: 0; right: 0;
  bottom: max(12px, env(safe-area-inset-bottom));
  display: flex;
  justify-content: center;
  pointer-events: none;   /* container transparent to taps */
  z-index: 1000;
}

.jump-btn {
  pointer-events: auto;   /* the button itself is clickable */
  min-width: 88px; min-height: 88px;  /* comfy thumb target */
  padding: 14px 22px;
  border: 0;
  border-radius: 999px;
  font-weight: 800;
  font-size: 18px;
  background: #ab3cfc;
  color: #fff;
  box-shadow: 0 8px 24px rgba(0,0,0,.18);
  touch-action: none;     /* avoid double triggers */
}

/* Hide floating button on big screens */
@media (min-width: 900px) {
  #mobileCtrls { display: none !important; }
}

/* ===== Game wrapper & overlays ===== */
#game-wrap {
  position: relative;
  width: 100%;
  height: 100%;
  padding-bottom: env(safe-area-inset-bottom);
}

/* Keep overlays above the canvas, incl. fullscreen */
.hud, .btnbar, .tests, .hint, .mobile-ctrls {
  z-index: 1000;
}

/* Native fullscreen sizing (fallback to 100vh, prefer 100dvh) */
#game-wrap:fullscreen,
#game-wrap:-webkit-full-screen {
  width: 100vw;
  height: 100vh; /* fallback */
}
@supports (height: 100dvh) {
  #game-wrap:fullscreen,
  #game-wrap:-webkit-full-screen {
    height: 100dvh; /* better on mobile address bars */
  }
}

/* Fallback "fake fullscreen" (used by JS when native FS isn't allowed) */
body.fs-lock { overflow: hidden; }
#game-wrap.fake-fs {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100dvh;
}

